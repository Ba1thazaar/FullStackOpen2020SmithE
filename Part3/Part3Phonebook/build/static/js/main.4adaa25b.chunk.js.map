{"version":3,"sources":["components/DisplayContact.js","components/NamesToDisplay.js","components/AddEntryForm.js","components/SearchFilter.js","services/persons.js","App.js","index.js"],"names":["DisplayContact","props","person","name","number","onClick","handleContactRemove","NamesToDisplay","validNames","persons","filter","toLowerCase","includes","search","map","AddEntryForm","title","onSubmit","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","SearchFilter","newSearch","handleSearchChange","baseUrl","axios","get","newObject","post","id","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","notifMessage","setNotifMessage","errorMessage","setErrorMessage","updateContactList","personService","then","response","data","useEffect","Notification","message","className","ErrorMessage","event","target","preventDefault","personObj","targetPerson","find","p","window","confirm","setTimeout","concat","console","log","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4adaa25b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst DisplayContact = (props) => {\r\n\r\n  return(\r\n    <li>\r\n    {props.person.name} : {props.person.number}\r\n    <button onClick = {props.handleContactRemove(props.person)}>\r\n      delete\r\n    </button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default DisplayContact\r\n","import React from 'react'\r\nimport DisplayContact from './DisplayContact'\r\n\r\nconst NamesToDisplay = (props) => {\r\n\r\n  const validNames = props.persons.filter((person) => {\r\n    return person.name.toLowerCase().includes(props.search.toLowerCase())\r\n  })\r\n\r\n  if (props.search === ('')){\r\n    return(\r\n      props.persons.map(person => {\r\n        return <DisplayContact key = {person.name} person = {person} handleContactRemove = {props.handleContactRemove}/>\r\n      })\r\n    )\r\n  }\r\n  return(\r\n    validNames.map(person => {\r\n      return <DisplayContact key = {person.name} person = {person} handleContactRemove = {props.handleContactRemove}/>\r\n    })\r\n  )\r\n}\r\n\r\nexport default NamesToDisplay\r\n","import React from 'react'\r\n\r\n\r\nconst AddEntryForm = (props) => {\r\n\r\n  return(\r\n    <div>\r\n      <h2>{props.title}</h2>\r\n      <form onSubmit={props.addName}>\r\n        <div>\r\n          name:\r\n           <input\r\n            value = {props.newName}\r\n            onChange = {props.handleNameChange}\r\n            />\r\n        </div>\r\n        <div>\r\n        number:\r\n          <input\r\n          value = {props.newNumber}\r\n          onChange = {props.handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddEntryForm\r\n","import React from 'react'\r\n\r\nconst SearchFilter = (props) => {\r\n  return (\r\n    <div>\r\n      <h2>{props.title}</h2>\r\n      <form>\r\n        <div>\r\n          <input\r\n            value = {props.newSearch}\r\n            onChange = {props.handleSearchChange}\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchFilter\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () =>{\r\n  return axios.get(baseUrl)\r\n}\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(baseUrl + '/' + id, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(baseUrl + '/' + id)\r\n}\r\n\r\n\r\nexport default {getAll, create, update, remove}\r\n","\nimport NamesToDisplay from './components/NamesToDisplay'\nimport AddEntryForm from './components/AddEntryForm'\nimport SearchFilter from './components/SearchFilter'\nimport personService from './services/persons'\nimport './index.css'\n\nimport React, { useState, useEffect} from 'react'\n\nconst App = () => {\n\n  const [persons, setPersons ] = useState([])\n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [notifMessage, setNotifMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const updateContactList = () => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then( response => {\n        setPersons(response.data)\n      })\n  },[])\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    const personObj = {\n      name: newName,\n      number: newNumber\n    }\n\n    const targetPerson = persons.find(p => p.name === personObj.name)\n\n    if(targetPerson){\n      window.confirm(personObj.name + ' already exists in phonebook, replace old number with the new one?')\n      personService\n        .update(targetPerson.id, personObj)\n        .then(response => {\n          updateContactList()\n          setNewName('')\n          setNewNumber('')\n          setNotifMessage(\n            personObj.name + ' number changed to: ' + personObj.number\n          )\n          setTimeout(() => {\n            setNotifMessage(null)\n          }, 5000)\n        })\n    }\n    else{\n      personService\n        .create(personObj)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setNotifMessage(\n            personObj.name + ' has been added to the phonebook'\n          )\n          setTimeout(() => {\n            setNotifMessage(null)\n          }, 5000)\n        })\n\n    }\n  }\n\n  const Notification = ({message}) => {\n    if (message === null){\n      return null;\n    }\n    return (\n      <div className = \"notification\">\n        {message}\n      </div>\n    )\n  }\n\n  const ErrorMessage = ({message}) => {\n    if (message === null){\n      return null;\n    }\n    return (\n      <div className = \"error\">\n        {message}\n      </div>\n    )\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const handleContactRemove = (person) => () => {\n    window.confirm('Delete: ' + person.name + '?')\n    console.log(person.id)\n    personService\n      .remove(person.id)\n      .catch(error => {\n        console.log(error)\n        setErrorMessage(\n          'Contact ' + person.name + ' was already removed from phonebook'\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n      .then(\n        updateContactList,\n        setNotifMessage(\n          person.name + ' has been deleted from the phonebook'\n        )\n      )\n      setTimeout(() => {\n        setNotifMessage(null)\n      }, 5000)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message = {notifMessage}/>\n      <ErrorMessage message = {errorMessage}/>\n      <SearchFilter title = 'Filter By Name' handleSearchChange = {handleSearchChange} newSearch = {newSearch}/>\n      <AddEntryForm title = 'Add Contact' addName = {addName} newName = {newName} newNumber = {newNumber} handleNameChange = {handleNameChange} handleNumberChange = {handleNumberChange}/>\n      <h2>Numbers</h2>\n      <div>\n        <ul>\n         <NamesToDisplay search = {newSearch} persons = {persons} handleContactRemove = {handleContactRemove}/>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}